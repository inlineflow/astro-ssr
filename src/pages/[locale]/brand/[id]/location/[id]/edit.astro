---
import CenteredLayout from "src/layouts/CenteredLayout.astro";
import { LocationEditForm } from "src/components/react/LocationEditForm";
import { extractUUID } from "src/browser/browser";
import { actions } from "astro:actions";
import ErrorMessage from "components/astro/error-message.astro";
export const prerender = false;
const locationId = extractUUID(Astro.url, "location");
if (!locationId) {
  return new Response("Location not found", { status: 404 });
}

const { data, error } = await Astro.callAction(
  actions.location.getLocationById,
  {
    locationId,
  }
);
---

<CenteredLayout>
  {data && <LocationEditForm location={data} client:load />}
  {error && <ErrorMessage errors={[error]} />}
</CenteredLayout>
