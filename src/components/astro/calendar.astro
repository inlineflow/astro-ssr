---
import { AppointmentCalendar } from "../react/AppointmentCalendar";

import { actions } from "astro:actions";

const { data: booked, error } = await Astro.callAction(
  actions.getBookedAppointemnts,
  {}
);
//  = await actions.getBookedAppointemnts();
if (error) {
  return Astro.redirect(404);
}

// const fetchAvailable = async () => {
//   const resp = await fetch(`${baseUrl}/appointments/booked`);
//   const result = (await resp.json()) as Date[];
//   return result;
// };

// const fetchService = async () => {
//   const resp = await fetch(`${baseUrl}/service/1`);
//   const result = (await resp.json()) as Date[];
// };
---

<AppointmentCalendar client:load disabled={booked} />
